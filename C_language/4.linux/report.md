## Part 1. Установка OC
###### Установи Ubuntu 20.04 Server LTS без графического интерфейса. (Используем программу для виртуализации - VirtualBox).
* Версия убунту\
![](screenshots/part1.png)
## Part 2 Создание пользователя
###### Создай пользователя, отличного от созданного при установке. Пользователь должен быть добавлен в группу adm.
* Создание нового пользователя\
![](screenshots/part2.1.png)
* Вывод команды "cat /etc/passwd"\
![](screenshots/part2.2.png)
## Part 3 Настройка сети ОС
1. ###### Задай название машины вида user-1.
* Смена названия машины происходит путем изменения содержимого двух файлов. 1 файл:\
![](screenshots/part3.1.png)
* Содержимое первого файла\
![](screenshots/part3.4.png)
* Второй файл:\
![](screenshots/part3.2.png)
* Содержимое второго файла\
![](screenshots/part3.3.png)
2. ###### Установи временную зону, соответствующую твоему текущему местоположению.
* Установка часового пояса\
![](screenshots/part3.5.png)
3. ###### Выведи названия сетевых интерфейсов с помощью консольной команды.
* Используемые сетевые интерфейсы\
![](screenshots/part3.6.png)
* Сетевой интерфейс `lo` - виртуальный интерфейс который используется для отладки сетевых программ и запуска серверных приложений на локальной машине.
4. ###### Используя консольную команду, получи ip адрес устройства, на котором ты работаешь, от DHCP сервера.
![](screenshots/part3.7.png)
* Dynamic Host Configuration Protocol(DHCP) — протокол динамической настройки узла.
5. ###### Определи и выведи на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw).
* Внутренний ip-адрес шлюза\
![](screenshots/part3.8.png)
* Внешний ip-адрес шлюза\
![](screenshots/part3.9.png)
6. ###### Задай статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (используй публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).
* Открываем файл настройки ip\
![](screenshots/part3.10.png)
* Прописываем настройки\
![](screenshots/part3.11.png)
7. ###### Перезагрузи виртуальную машину. Убедись, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.
* Перезагружаем машину и пингуем `1.1.1.1` и `ya.ru`
![](screenshots/part3.12.png)
![](screenshots/part3.13.png)
## Part 4 Обновление ОС
###### Обнови системные пакеты до последней на момент выполнения задания версии.
* Выполняем две команды `sudo apt update` и `sudo apt upgrade`
![](screenshots/part4.png)
## Part 5 Использование команды sudo
###### Разреши пользователю, созданному в Part 2,выполнять команду sudo.
* Выполняем команду `sudo adduser <имя пользователя> sudo`
![](screenshots/part5.png)
## Part 6 Установка и настройка службы времени.
###### Настрой службу автоматической синхронизации времени.
![](screenshots/part6.png)
## Part 7. Установка и использование текстовых редакторов
###### Установи текстовые редакторы VIM (+ любые два по желанию NANO, MCEDIT, JOE и т.д.)
1. ###### Используя каждый из трех выбранных редакторов, создай файл test_X.txt, где X -- название редактора, в котором создан файл. Напиши в нём свой никнейм, закрой файл с сохранением изменений.
###### VIM
* Для выхода нужно прописать `:wq`\
![](screenshots/part7.1.png)
###### NANO
* Для выхода нужно нажать комбинацию на клавиатуре `ctrl+x` и нажать `y` для сохранения изменений\
![](screenshots/part7.2.png)
###### MCEDIT
* Сначала нужно установить mcedit:\
![](screenshots/part7.3.png)
* Для выхода нужно нажать на клавиатуре `F10` и выбрать `Yes` для сохранения изменений\
![](screenshots/part7.4.png)
2. ###### Используя каждый из трех выбранных редакторов, открой файл на редактирование, отредактируй файл, заменив никнейм на строку «21 School 21», закрой файл без сохранения изменений.
###### VIM
* Для выхода нужно прописать `:q!`\
![](screenshots/part7.5.png)
###### NANO
* Для выхода нужно нажать комбинацию на клавиатуре `ctrl+x` и нажать `n` для отмены изменений\
![](screenshots/part7.6.png)
###### MCEDIT
* Для выхода нужно нажать на клавиатуре `F10` и выбрать `No` для отмены изменений\
![](screenshots/part7.7.png)
3. ###### Используя каждый из трех выбранных редакторов, отредактируй файл ещё раз (по аналогии с предыдущим пунктом), а затем освой функции поиска по содержимому файла (слово) и замены слова на любое другое.
###### VIM
* Поиск слова:\
![](screenshots/part7.8.png)
* Замена слова:\
![](screenshots/part7.9.png)
###### NANO
* Поиск слова: используем комбинацию клавиш `Ctrl+w` и вводим искомое слово\
![](screenshots/part7.10.png)
* Замена слова:
  1. Используем комбинацию клавиш `Ctrl+\` и вводим заменяемое слово\
![](screenshots/part7.11.png)
  2. Вводим слово на которое хотим заменить\
![](screenshots/part7.12.png)
  3. Подтверждаем изменения\
![](screenshots/part7.13.png)
###### MCEDIT
* Для поиска нажимаем клавишу `F7` и вводим искомое слово\
![](screenshots/part7.14.png)
* Для замены нажимаем клавишу `F4` и вводим искомое слово и чем мы его хотим заменить и подтверждаем изменения\
![](screenshots/part7.15.png)
![](screenshots/part7.16.png)
## Part 8 Установка и базовая настройка сервиса SSHD
1. ###### Установи службу SSHd.
* Прописываем команды\
![](screenshots/part8.1.png)
![](screenshots/part8.2.png)\
2. ###### Добавь автостарт службы при загрузке системы.
* Включаем автостарт ssh при каждом запуске системы\
![](screenshots/part8.3.png)
3. ###### Перенастрой службу SSHd на порт 2022.
* Добавляем в файл `/etc/ssh/sshd_config` строчку `port 2022`\
![](screenshots/part8.4.png)
* Для того чтобы изменения вступили в силу нужно прописать `sudo systemctl restart ssh`\
![](screenshots/part8.5.png)
4. ###### Используя команду ps, покажи наличие процесса sshd. Для этого к команде нужно подобрать ключи.
![](screenshots/part8.6.png)
* Команда `ps` - запущенные процессы на сервере
* Флаг `-a` показывает все процессы
* Флаг `-f` выводит максимум доступных данных
5. ###### Перезагрузи систему.
![](screenshots/part8.7.png)
* netstat(network statistics) - утилита командной строки, выводящая на дисплей состояние TCP-соединений
* Флаг `-t` показывает tcp порты
* Флаг `-a` показывает состояние всех сокетов
* Флаг `-n` показывает сетевые адреса как числа
* `0.0.0.0` в выводе netstat означает, что ssh прослушивает все интерфейсы IPv4, которые есть у машины
## Part 9. Установка и использование утилит top, htop
###### top
* uptime\
![](screenshots/part9.1.png)
* Количество авторизованных пользователей\
![](screenshots/part9.2.png)
* Общая загрузка системы\
![](screenshots/part9.3.png)
* Общее количество процессов\
![](screenshots/part9.4.png)
* Загрузка cpu\
![](screenshots/part9.5.png)
* Загрузка памяти\
![](screenshots/part9.6.png)
* pid процесса занимающего больше всего памяти
* При помощи комбинации `shift+m` сортируем таблицу по памяти в порядке убывания
![](screenshots/part9.7.png)
* pid процесса, занимающего больше всего процессорного времени
* При помощи комбинации `shift+t` сортируем таблицу по процессорному времени в порядке убывания
![](screenshots/part9.8.png)
###### htop
* Сортировка происходит после нажатия `f6` и выбора критерия сортировки:
![](screenshots/part9.9.png)
* Сортировка по:
1. PID\
![](screenshots/part9.10.png)
2. PERCENT_CPU\
![](screenshots/part9.11.png)
3. PERCENT_MEM\
![](screenshots/part9.12.png)
4. TIME\
![](screenshots/part9.13.png)
* Отфильтрованному по sshd:(после нажатия `f4`)\
![](screenshots/part9.14.png)
* C процессом syslog, найденным, используя поиск:(после нажатия `f3`)\
![](screenshots/part9.15.png)
* с добавленным выводом hostname, clock и uptime(после нажатия `f2` выбираем нужные нам колонки)\
![](screenshots/part9.16.png)
## Part 10. Использование утилиты fdisk.
###### Запусти команду fdisk -l.
![](screenshots/part10.1.png)
* Размер Swap:\
![](screenshots/part10.2.png)
## Part 11. Использование утилиты df.
###### Запусти команду df.
![](screenshots/part11.1.png)
* Размер раздела
![](screenshots/part11.2.png)
* Размер занятого пространства
![](screenshots/part11.3.png)
* Размер свободного пространства
![](screenshots/part11.4.png)
* Процент использования
![](screenshots/part11.5.png)
* В отчете вся размерность указана в киллобайтах
###### Запусти команду df -Th.
![](screenshots/part11.6.png)
* Размер раздела
![](screenshots/part11.7.png)
* Размер занятого пространства
![](screenshots/part11.8.png)
* Размер свободного пространства
![](screenshots/part11.9.png)
* Процент использования
![](screenshots/part11.10.png)
* В отчете вся размерность указана в гигабайтах
## Part 12. Использование утилиты du.
###### Запусти команду du
![](screenshots/part12.1.png)
###### Выведи размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
![](screenshots/part12.2.png)
![](screenshots/part12.3.png)
![](screenshots/part12.5.png)
###### Выведи размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
![](screenshots/part12.4.png)
## Part 13. Установка и использование утилиты ncdu.
###### Установи утилиту ncdu.
![](screenshots/part13.1.png)
###### Выведи размер папок /home, /var, /var/log
![](screenshots/part13.2.png)
![](screenshots/part13.3.png)
![](screenshots/part13.4.png)
## Part 14. Работа с системными журналами.
###### Открой для просмотра:
* 1. /var/log/dmesg:
![](screenshots/part14.1.png)
* 2. /var/log/syslog
![](screenshots/part14.2.png)
* 3. /var/log/auth.log
![](screenshots/part14.3.png)
* Напиши в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему:
![](screenshots/part14.4.png)
* Перезапусти службу SSHd и вставь в отчёт скрин с сообщением о рестарте службы (искать в логах).
![](screenshots/part14.5.png)
## Part 15. Использование планировщика заданий CRON.
###### Используя планировщик заданий, запусти команду uptime через каждые 2 минуты
Открываем файл планировщика при помощи команды `crontab -e` и пишем туда `*/2 * * * * uptime`\
![](screenshots/part15.1.png)
В файле `/var/log/systemlog` видим изменения файла планировщика\
![](screenshots/part15.2.png)
###### Удали все задания из планировщика заданий.
При помощи команды `crontab -r` удалям все задания из планировщика\
![](screenshots/part15.3.png)\
Проверяем текущие задачи планировщика\
![](screenshots/part15.4.png)

